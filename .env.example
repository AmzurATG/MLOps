# ============================================================================
# MLOps/CVOps Platform Environment Configuration
# ============================================================================
# Copy this file to .env and update with your values:
#   cp .env.example .env
#
# The .env file is gitignored and will not be committed.
# ============================================================================

# ----------------------------------------------------------------------------
# TRINO CATALOG (Branch Switching)
# ----------------------------------------------------------------------------
# Set this to switch ALL downstream tables to a different branch
# Use ./scripts/branch_manager.sh to create feature branches
#
# Available catalogs:
#   iceberg_dev          - Development branch (default)
#   iceberg_main         - Production/main branch
#   iceberg_experiment_* - Feature branches (created by branch_manager.sh)
#
TRINO_CATALOG=iceberg_dev

# ----------------------------------------------------------------------------
# LAKEFS (Data Versioning)
# ----------------------------------------------------------------------------
# Generate new keys via LakeFS UI or API after initial setup
LAKEFS_ACCESS_KEY_ID=YOUR_LAKEFS_ACCESS_KEY_HERE
LAKEFS_SECRET_ACCESS_KEY=YOUR_LAKEFS_SECRET_KEY_HERE
LAKEFS_WEBHOOK_SECRET=your_webhook_secret_here

# ----------------------------------------------------------------------------
# MINIO (Object Storage)
# ----------------------------------------------------------------------------
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=password123

# ----------------------------------------------------------------------------
# DAGSTER (Orchestration)
# ----------------------------------------------------------------------------
DAGSTER_POSTGRES_PASSWORD=dagster

# ----------------------------------------------------------------------------
# LABEL STUDIO (Data Labeling)
# ----------------------------------------------------------------------------
LABELSTUDIO_USERNAME=admin@example.com
LABELSTUDIO_PASSWORD=admin123
LABELSTUDIO_API_TOKEN=
LABELSTUDIO_PROJECT_NAME=MLOps Data Review
LABELSTUDIO_PROJECT_ID=1
LABELSTUDIO_EXPORT_BATCH_SIZE=100
LABELSTUDIO_MAX_IN_REVIEW=1000
LABELSTUDIO_MERGE_BATCH_SIZE=100

# ----------------------------------------------------------------------------
# AIRBYTE (Data Ingestion) - Optional
# ----------------------------------------------------------------------------
AIRBYTE_SERVER_URL=http://host.docker.internal:18001
AIRBYTE_CLIENT_ID=
AIRBYTE_CLIENT_SECRET=
AIRBYTE_WORKSPACE_ID=
AIRBYTE_CONNECTION_ID=

# ----------------------------------------------------------------------------
# LAKEHOUSE CONFIGURATION
# ----------------------------------------------------------------------------
LAKEHOUSE_BRONZE_REPO=bronze
LAKEHOUSE_WAREHOUSE_REPO=warehouse
LAKEHOUSE_DEV_BRANCH=dev
LAKEHOUSE_MAIN_BRANCH=main

# ----------------------------------------------------------------------------
# SENSORS (Dagster)
# ----------------------------------------------------------------------------
SENSOR_EXPORT_INTERVAL_SECONDS=300
SENSOR_MERGE_INTERVAL_SECONDS=300

# ----------------------------------------------------------------------------
# CVOPS (Computer Vision)
# ----------------------------------------------------------------------------
CVOPS_REPO=cv-data
CVOPS_BRANCH=dev
CVOPS_WEBHOOK_SECRET=
CVOPS_VERIFY_WEBHOOK=false
YOLO_DEVICE=cpu
YOLO_DUMMY_MODE=true
YOLO_CONFIDENCE=0.25
YOLO_MODEL_PATH=yolov8n.pt
CVOPS_MLFLOW_EXPERIMENT=cvops_object_detection

# ----------------------------------------------------------------------------
# JUPYTER
# ----------------------------------------------------------------------------
JUPYTER_TOKEN=jupyter

# ----------------------------------------------------------------------------
# AUTO-RETRAIN CONFIGURATION
# ----------------------------------------------------------------------------
RETRAIN_ENABLED=true
RETRAIN_DRIFT_THRESHOLD=0.3
RETRAIN_F1_THRESHOLD=0.7
RETRAIN_ACCURACY_THRESHOLD=0.8
RETRAIN_MIN_NEW_LABELS=100
RETRAIN_COOLDOWN_HOURS=24
RETRAIN_SENSOR_INTERVAL=300

# ----------------------------------------------------------------------------
# SHADOW MODE CONFIGURATION
# ----------------------------------------------------------------------------
SHADOW_MODE_ENABLED=false
SHADOW_MODE_STAGE=Staging
SHADOW_LOG_ALL=true
SHADOW_LOG_DISAGREEMENTS=false
SHADOW_AGREEMENT_THRESHOLD=0.9
SHADOW_SCORE_DIFF_THRESHOLD=0.2

# ----------------------------------------------------------------------------
# PERFORMANCE MONITORING
# ----------------------------------------------------------------------------
PERFORMANCE_F1_THRESHOLD=0.7
PERFORMANCE_ACCURACY_THRESHOLD=0.8
PERFORMANCE_MIN_SAMPLES=50
